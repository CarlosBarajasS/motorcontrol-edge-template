services:
  mediamtx:
    image: bluenviron/mediamtx:latest
    container_name: edge-mediamtx
    restart: unless-stopped
    network_mode: host
    volumes:
      - ./mediamtx/mediamtx.yml:/mediamtx.yml:ro
      - ./data/recordings:/recordings

  edge-agent:
    build: ./edge-agent
    container_name: edge-agent
    restart: unless-stopped
    network_mode: host
    env_file:
      - .env
    environment:
      - TZ=${TZ:-America/Mexico_City}
    depends_on:
      - mediamtx
